<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta
      name="viewport"
      content="initial-scale=1, width=device-width, user-scalable=no"
    />
    <style>
      .box1 {
        margin-left: 3%;
        margin-right: 3%;
        text-align: center;
      }
      #charName {
        margin-top: 3%;
        margin-bottom: 3%;
        border: 2px solid black;
        border-radius: 50px;
        padding: 3%;
        font-size: 250%;
      }
      #back {
        width: 15%;
        float: left;
      }
      #book {
        padding-top: 5%;
        padding-bottom: 5%;
        font-size: 150%;
        width: 20%;
        height: 20%;
        float: right;
        border: 0px solid #4c9ace;
        border-radius: 20px;
        background-color: #4c9ace;
      }
      #charImg {
        margin-top: 40%;
        margin-bottom: 10%;
        width: 50%;
      }
      
      .box2 {
        margin: 10% 3% 3%;
        overflow-y: scroll;
        height: 320px;
      }
      #record {
        width: 100%;
        margin-bottom: 3%;
        border: 3px solid #7f7f7f;
        border-radius: 10px;
        padding: 3%;
        font-size: 100%;
        box-sizing: border-box;
      }
      #footbar {
        position: fixed;
        bottom: 1px;
        width: 100%;
      }
      #footbar ul {
        margin: 0;
        padding: 0;
        display: flex;
        justify-content: space-around;
      }
      #footbar ul li {
        display: inline-block; /*새 줄로 넘어가지 않게*/
        list-style-type: none; /* 마커 삭제 */
        padding: 0px 15px;
      }
      #footbar ul li a {
        color: black;
        text-decoration: none;
      }
      /* meter 크기 설정 */
meter {
    width: 100%;
    height: 50px;
}
/* 팝업 창 스타일 */
.popup {
    display: none;
    position: fixed;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    padding: 20px;
    border: 1px solid #ccc;
    background: #fff;
    z-index: 1;
    text-align: center; /* Center the content */
}

/* 닫기 버튼 스타일 */
.close {
    position: absolute;
    top: 1px;
    right: 2px;
    font-size: 20px;
    cursor: pointer;
}
/* +, - 버튼 스타일 */
.popup button {
    font-size: 18px;
    
    cursor: pointer;
    border: none;
    background-color: #007BFF;
    color: white;
    border-radius: 5px;
}
    </style>
    <title>Document</title>
  </head>
  <body style="margin: 0">
    <div class="box1">
      <p id="charName">캐릭터 이름</p>
      <img
        id="charImg"
        src="https://drive.google.com/uc?export=view&id=1D6R19DZmGZAH86X_Qc4ygNT73gfqO7th"/>
        <!-- 경험치 바 내용 -->
        <div class="exp-bar" onclick="openPopup()">
          <meter class="expMeter" value="50" min="0" max="100">60%</meter>
        </div>

      <!-- 팝업 창 -->
    <div id="popup" class="popup">
      <span class="close" onclick="closePopup()">&times;</span>
      <!-- 팝업 내용 -->
      <p>경험치 조절</p>
      <input type="number" id="experienceInput" min="0" max="100" step="10" oninput="updateMeterValue($(expMeter.value))"><br>
      <button onclick="decreaseExperience()">-</button>
      <button onclick="increaseExperience()">+</button>
      <div class="exp-bar">
        <meter id="expMeter" value="60" min="0" max="100">60%</meter>
      </div>
    </div>
    
    </div>
    <div class="box2">
      <div id="record">
        <p id="date">2023-12-12</p>
        <p id="place">경일대학교 학생회관</p>
      </div>
      <div id="record">
        <p id="date">2023-12-12</p>
        <p id="place">경일대학교 학생회관</p>
      </div>
      <div id="record">
        <p id="date">2023-12-12</p>
        <p id="place">경일대학교 학생회관</p>
      </div>
      <div id="record">
        <p id="date">2023-12-12</p>
        <p id="place">경일대학교 학생회관</p>
      </div>
    </div>
  </body>

  <nav id="footbar">
    <ul>
      <li>
        <img
          src="https://drive.google.com/uc?export=view&id=1rqDw4XrjtoXXzRGK-XiRheNS--S5KUtt"
          alt="홈버튼"
          style="width: 15px; height: 15px"
        />
        <a href="./test.html">Home</a>
      </li>
      <li><a href="./character.html">캐릭터</a></li>
      <li><a href="./dex.html">도감</a></li>
    </ul>
  </nav>
</html>
<script>

  var expMeter = document.getElementsByClassName("expMeter")
  expMeter.value = 30;
  // 팝업 열기
function openPopup() {
document.getElementById("popup").style.display = "block";
}

// 팝업 닫기
function closePopup() {
document.getElementById("popup").style.display = "none";
}

// 경험치 증가
function increaseExperience() {
  var inputElement = document.getElementById("experienceInput");
  var meterElement = document.getElementById("expMeter");

  var currentValue = parseInt(inputElement.value, 10);
  if (currentValue < 100) {
    inputElement.value = currentValue + 10;
    updateMeterValue(inputElement.value);
  }
}

// 경험치 감소
function decreaseExperience() {
  var inputElement = document.getElementById("experienceInput");
  var meterElement = document.getElementById("expMeter");

  var currentValue = parseInt(inputElement.value, 10);
  if (currentValue > 0) {
    inputElement.value = currentValue - 10;
    updateMeterValue(inputElement.value);
  }
}
// 경험치 입력값 업데이트
function updateMeterValue(value) {
  var meterElement = document.getElementById("expMeter");
  meterElement.value = value;
  meterElement.innerHTML = value + "%";
}
</script>